# Readme for the script folder

All scripts in this folder are for internal use only. Most likely you don't need them, but in case you do, use them at your own risk.

# Generating development environment

A new clean development environment can be generated by using

```
./jemma-generate-devenv.sh
```

The script will create a "envolder" directory and will checkout all the JEMMA sub-projects from git.

# Checking version numbers

The following scripts scans through all the projects and dump the version number from each project (from pom.xml or from MANIFEST for non-mavenized projects)

```
./jemma/scripts/dump-version-numbers.sh
```

At this point you can update the subprojects-list.xml file accordingly.

# Re-generate various components list

- To re-generate jemma-generate-devenv.sh (only needed when new sub-projects modules are added or removed ):
	- ```./jemma/scripts/subproject-list-translator.py -i ./jemma/subprojects-list.xml -c git | tee ./jemma/scripts/jemma-generate-devenv.sh; chmod +x ./jemma/scripts/jemma-generate-devenv.sh```

- To Generate markdown table (this must be copied inside the main README.md and in the components webpage):
	- ```./jemma/scripts/subproject-list-translator.py -i ../subprojects-list.xml -c md```

- To generate pom-style dependencies (only needed when importing some JEMMA components in some other project):
	- ```./jemma/scripts/subproject-list-translator.py - ../subprojects-list.xml -c pom```

# Building all

The following scripts scans through all the projects and builds them all.

```
./jemma/scripts/jemma-build-all.sh 
```

# Making a release

Released version are kept on the *releases* branch, where stable versions are tagged. 

In order to make a new binary release the following steps must be followed:

- verify that the current master of all project correctly builds on jenkins.
- generate all the stable binaries from all jemma projects. 
- For all projects for whom the version number has been advanced, a new binary should be generated and deployed to the jemma maven repository.
- all versions in the pom.xml files in the ismb/jemma project should be advanced accordingly
- the ismb/jemma configuration with the new version should be tested on jenkins.
- merge the current *master* branch with the *releases* branch
- tag the current version of the *releases* branch with the correct version number, making a jemma release.
- generate a binary distribution following the procedure in the ```script/jemma-generate-release.sh``` script source.
- upload the binary on github




